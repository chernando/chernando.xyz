---
import { getCollection, type CollectionEntry } from 'astro:content';
import PostLayout from '../../../layouts/PostLayout.astro';

export async function getStaticPaths() {
  const posts = await getCollection('posts-en');
  return posts
    .filter(post => !post.data.draft)
    .map((post) => ({
      params: { slug: post.slug },
      props: { post },
    }));
}

interface Props {
  post: CollectionEntry<'posts-en'>;
}

const { post } = Astro.props;
---

<PostLayout post={post} />
